(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{416:function(e,t,o){e.exports=o.p+"assets/img/04_deployment_configuration.2b7f3f2b.png"},417:function(e,t,o){e.exports=o.p+"assets/img/04_deploy_strategy_01.d1f0bf48.png"},418:function(e,t,o){e.exports=o.p+"assets/img/04_deploy_strategy_02.76a2fdbe.png"},481:function(e,t,o){"use strict";o.r(t);var a=o(32),n=Object(a.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"exploring-deployment-options"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#exploring-deployment-options"}},[e._v("#")]),e._v(" Exploring Deployment Options")]),e._v(" "),a("p",[e._v("Additional actions are available to edit your deployment configuration. Review and explore;")]),e._v(" "),a("ul",[a("li",[e._v("Resource Limits")]),e._v(" "),a("li",[e._v("Replicas")])]),e._v(" "),a("h2",{attrs:{id:"using-oc-explain"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#using-oc-explain"}},[e._v("#")]),e._v(" Using "),a("code",[e._v("oc explain")])]),e._v(" "),a("p",[a("code",[e._v("oc explain")]),e._v(" is a great utility to discover all the available fields for an\nOpenshift of K8s object.")]),e._v(" "),a("ul",[a("li",[e._v("Discover the fields that belong to a Deployment\n"),a("ul",[a("li",[a("code",[e._v("oc explain deployment")])]),e._v(" "),a("li",[e._v("check out what is inside the "),a("code",[e._v("spec")]),e._v(" field")]),e._v(" "),a("li",[a("code",[e._v("oc explain deployment.spec")])]),e._v(" "),a("li",[e._v("From this view you can see that "),a("code",[e._v("replicas")]),e._v(" are configurable")])])])]),e._v(" "),a("h2",{attrs:{id:"versioning-a-deployment-configuration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#versioning-a-deployment-configuration"}},[e._v("#")]),e._v(" Versioning a Deployment Configuration")]),e._v(" "),a("p",[e._v("At this point in time, your deployment configuration has undergone many changes, such as adding environment variables and adding health checks.\nReview the deployment configuration "),a("code",[e._v("ReplicaSet")]),e._v(" tab:")]),e._v(" "),a("ul",[a("li",[e._v("Navigate to your Deployment and select "),a("code",[e._v("ReplicaSet")]),e._v(" "),a("img",{attrs:{src:o(416),alt:""}})]),e._v(" "),a("li",[e._v("Select your latest replica set and select "),a("code",[e._v("edit")])]),e._v(" "),a("li",[e._v("Compare the differences between that replica set and an older one - this can be done through the UI or by comparing the YAML")])]),e._v(" "),a("h2",{attrs:{id:"changing-the-deployment-strategy-option"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#changing-the-deployment-strategy-option"}},[e._v("#")]),e._v(" Changing the Deployment Strategy Option")]),e._v(" "),a("p",[e._v("The default deployment configuration provides a "),a("code",[e._v("Rolling Update")]),e._v(" style deployment, which waits for the container to be ready prior to\ncutting over traffic and terminating the previous container.")]),e._v(" "),a("ul",[a("li",[e._v("Change the strategy to a "),a("code",[e._v("Recreate")]),e._v(" and redeploy a couple of times")]),e._v(" "),a("li",[e._v("edit the YAML for the deployment and replace the "),a("code",[e._v("spec.strategy.type")]),e._v(" from "),a("code",[e._v("RollingUpdate")]),e._v(" to `Recreate\n"),a("img",{attrs:{src:o(417),alt:""}}),e._v(" "),a("img",{attrs:{src:o(418),alt:""}})]),e._v(" "),a("li",[e._v("Now make a small change to the deployment to trigger a new deploy (for testing)")]),e._v(" "),a("li",[a("code",[e._v("oc -n [-dev] set env deployment/rocketchat-[username] TEST=BAR")])]),e._v(" "),a("li",[e._v("Go back to topology and observe the behaviour. You should notice that the old pod is killed before a new one is created.")]),e._v(" "),a("li",[e._v("edit the YAML and switch the strategy back to RollingUpdate")])])])}),[],!1,null,null,null);t.default=n.exports}}]);